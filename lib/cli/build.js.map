{"version":3,"sources":["../../src/cli/build.js"],"names":["Build","require","CliUtils","buildCommand","type","defaults","test","watch","build","run","env","command","describe","builder","yargs","options","default","handler","argv","cliUtils","verbose","debug","process","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,QAAQC,QAAQ,UAAR,CAAd;AACA,MAAMC,WAAWD,QAAQ,SAAR,CAAjB;;AAEA,MAAME,eAAeC,QAAQ;AACzB,UAAMC,WAAW;AACbC,cAAM,EAACC,OAAO,KAAR,EAAeC,OAAO,KAAtB,EAA6BC,KAAK,KAAlC,EAAyCH,MAAM,IAA/C,EAAqDI,KAAK,aAA1D,EADO;AAEbD,aAAK,EAACF,OAAO,KAAR,EAAeC,OAAO,KAAtB,EAA6BC,KAAK,IAAlC,EAAwCH,MAAM,IAA9C,EAAoDI,KAAK,aAAzD,EAFQ;AAGbF,eAAO,EAACD,OAAO,KAAR,EAAeC,OAAO,IAAtB,EAA4BC,KAAK,KAAjC,EAAwCH,MAAM,IAA9C,EAAoDI,KAAK,YAAzD,EAHM;AAIbH,eAAO,EAACA,OAAO,IAAR,EAAcC,OAAO,KAArB,EAA4BC,KAAK,IAAjC,EAAuCH,MAAM,IAA7C,EAAmDI,KAAK,aAAxD;AAJM,KAAjB;;AAOA,WAAO;AACHC,iBAAU,GAAEP,IAAK,YADd;AAEHQ,kBAAW,GAAER,IAAK,cAFf;AAGHS,iBAASC,SAAS;AACdA,kBAAMC,OAAN,CAAc;AACV,uBAAO,EAACX,MAAM,QAAP,EAAiBQ,UAAU,cAA3B,EAA2CI,SAASX,SAASD,IAAT,EAAeM,GAAnE,EADG;AAEV,yBAAS,EAACN,MAAM,SAAP,EAAkBY,SAASX,SAASD,IAAT,EAAeG,KAA1C,EAFC;AAGV,uBAAO,EAACH,MAAM,SAAP,EAAkBY,SAASX,SAASD,IAAT,EAAeK,GAA1C,EAHG;AAIV,yBAAS,EAACL,MAAM,SAAP,EAAkBY,SAASX,SAASD,IAAT,EAAeI,KAA1C,EAJC;AAKV,wBAAQ,EAACJ,MAAM,SAAP,EAAkBY,SAASX,SAASD,IAAT,EAAeE,IAA1C;AALE,aAAd;AAOH,SAXE;AAYHW,iBAASC,QAAQ;AACb,kBAAMC,WAAW,IAAIjB,QAAJ,CAAa,EAACkB,SAASF,KAAKE,OAAf,EAAwBC,OAAOH,KAAKG,KAApC,EAAb,CAAjB;;AAEA,kBAAMb,QAAQ,IAAIR,KAAJ,CAAUmB,QAAV,EAAoBD,IAApB,CAAd;AACAV,kBAAMc,OAAN;AACH;AAjBE,KAAP;AAmBH,CA3BD;;AA6BAC,OAAOC,OAAP,GAAiBrB,YAAjB","file":"build.js","sourcesContent":["'use strict'\n\nconst Build = require('../build')\nconst CliUtils = require('./utils')\n\nconst buildCommand = type => {\n    const defaults = {\n        test: {watch: false, build: false, run: false, test: true, env: 'development'},\n        run: {watch: false, build: false, run: true, test: true, env: 'development'},\n        build: {watch: false, build: true, run: false, test: true, env: 'production'},\n        watch: {watch: true, build: false, run: true, test: true, env: 'development'},\n    }\n\n    return {\n        command: `${type} [options]`,\n        describe: `${type} application`,\n        builder: yargs => {\n            yargs.options({\n                'env': {type: 'string', describe: 'set NODE_ENV', default: defaults[type].env},\n                'watch': {type: 'boolean', default: defaults[type].watch},\n                'run': {type: 'boolean', default: defaults[type].run},\n                'build': {type: 'boolean', default: defaults[type].build},\n                'test': {type: 'boolean', default: defaults[type].test},\n            })\n        },\n        handler: argv => {\n            const cliUtils = new CliUtils({verbose: argv.verbose, debug: argv.debug})\n\n            const build = new Build(cliUtils, argv)\n            build.process()\n        }\n    }\n}\n\nmodule.exports = buildCommand\n"]}