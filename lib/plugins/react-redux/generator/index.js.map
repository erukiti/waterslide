{"version":3,"sources":["../../../../src/plugins/react-redux/generator/index.js"],"names":["fs","require","path","process","Mustache","ReactReduxGenerator","constructor","operator","generate","name","opts","capitalize","s","charAt","toUpperCase","slice","basename","obj","action","component","reducer","render","inFile","outFile","templ","readFileSync","join","__dirname","toString","content","writeFile","module","exports"],"mappings":"AAAA;;;;AAEA,MAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,MAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,MAAME,UAAUF,QAAQ,SAAR,CAAhB;AACA,MAAMG,WAAWH,QAAQ,UAAR,CAAjB;;AAEA,MAAMI,mBAAN,CAA0B;AACtBC,gBAAYC,QAAZ,EAAsB;AAClB,aAAKA,QAAL,GAAgBA,QAAhB;AACH;;AAEKC,YAAN,CAAeC,IAAf,EAAqBC,OAAO,EAA5B,EAAgC;AAAA;;AAAA;AAC5B;;AAEA,kBAAMC,aAAa;AAAA,uBAAKC,EAAEC,MAAF,CAAS,CAAT,EAAYC,WAAZ,KAA4BF,EAAEG,KAAF,CAAQ,CAAR,CAAjC;AAAA,aAAnB;AACA,kBAAMC,WAAWL,WAAWT,KAAKc,QAAL,CAAcP,IAAd,CAAX,CAAjB;;AAEA,kBAAMQ,MAAM;AACRC,wBAAS,GAAEF,QAAS,QADZ;AAERG,2BAAY,GAAEH,QAAS,WAFf;AAGRI,yBAAU,GAAElB,KAAKc,QAAL,CAAcP,IAAd,CAAoB,SAHxB;AAIRA,sBAAMP,KAAKc,QAAL,CAAcP,IAAd;AAJE,aAAZ;;AAOA,kBAAMY;AAAA,6CAAS,WAAOC,MAAP,EAAeC,OAAf,EAA2B;AACtC,0BAAMC,QAAQxB,GAAGyB,YAAH,CAAgBvB,KAAKwB,IAAL,CAAUC,SAAV,EAAsB,GAAEL,MAAO,MAA/B,CAAhB,EAAuDM,QAAvD,EAAd;AACA,0BAAMC,UAAUzB,SAASiB,MAAT,CAAgBG,KAAhB,EAAuBP,GAAvB,CAAhB;AACA,0BAAM,MAAKV,QAAL,CAAcuB,SAAd,CAAwB5B,KAAKwB,IAAL,CAAUjB,IAAV,EAAiB,GAAEc,OAAQ,EAA3B,CAAxB,EAAuDM,OAAvD,CAAN;AACH,iBAJK;;AAAA;AAAA;AAAA;AAAA,gBAAN;;AAMA,kBAAMR,OAAO,WAAP,EAAoB,WAApB,CAAN;AACA,kBAAMA,OAAO,eAAP,EAAwB,eAAxB,CAAN;AACA,kBAAMA,OAAO,cAAP,EAAuB,UAAvB,CAAN;AACA,kBAAMA,OAAO,YAAP,EAAqB,YAArB,CAAN;AAtB4B;AAuB/B;AA5BqB;;AA+B1BU,OAAOC,OAAP,GAAiB3B,mBAAjB","file":"index.js","sourcesContent":["'use strict'\n\nconst fs = require('fs')\nconst path = require('path')\nconst process = require('process')\nconst Mustache = require('mustache')\n\nclass ReactReduxGenerator {\n    constructor(operator) {\n        this.operator = operator\n    }\n\n    async generate(name, opts = {}) {\n        // FIXME: 'foo-bar'\n\n        const capitalize = s => s.charAt(0).toUpperCase() + s.slice(1)\n        const basename = capitalize(path.basename(name))\n\n        const obj = {\n            action: `${basename}Action`,\n            component: `${basename}Component`,\n            reducer: `${path.basename(name)}Reducer`,\n            name: path.basename(name)\n        }\n\n        const render = async (inFile, outFile) => {\n            const templ = fs.readFileSync(path.join(__dirname, `${inFile}.mst`)).toString()\n            const content = Mustache.render(templ, obj)\n            await this.operator.writeFile(path.join(name, `${outFile}`), content)\n        }\n\n        await render('action.js', 'action.js')\n        await render('component.jsx', 'component.jsx')\n        await render('container.js', 'index.js')\n        await render('reducer.js', 'reducer.js')\n    }\n}\n\nmodule.exports = ReactReduxGenerator\n"]}