{"version":3,"sources":["../../../../src/plugins/react-redux/generator/index.js"],"names":["fs","require","path","process","Mustache","ReactReduxGenerator","operator","name","opts","toLower","s","charAt","toLowerCase","slice","toUpper","toUpperCase","createPrefix","split","map","v","join","upperPrefix","basename","lowerPrefix","obj","action","component","reducer","render","inFile","outFile","templ","readFileSync","__dirname","toString","content","writeFile","module","exports"],"mappings":"AAAA;;;;;;;;AAEA,IAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,UAAUF,QAAQ,SAAR,CAAhB;AACA,IAAMG,WAAWH,QAAQ,UAAR,CAAjB;;IAEMI,mB;AACF,iCAAYC,QAAZ,EAAsB;AAAA;;AAClB,aAAKA,QAAL,GAAgBA,QAAhB;AACH;;;;;mFAEcC,I;;;oBAAMC,I,uEAAO,E;;;;;;AAClBC,uC,GAAU,SAAVA,OAAU;AAAA,2CAAKC,EAAEC,MAAF,CAAS,CAAT,EAAYC,WAAZ,KAA4BF,EAAEG,KAAF,CAAQ,CAAR,CAAjC;AAAA,iC;;AACVC,uC,GAAU,SAAVA,OAAU;AAAA,2CAAKJ,EAAEC,MAAF,CAAS,CAAT,EAAYI,WAAZ,KAA4BL,EAAEG,KAAF,CAAQ,CAAR,CAAjC;AAAA,iC;;AACVG,4C,GAAe,SAAfA,YAAe;AAAA,2CAAKN,EAAEO,KAAF,CAAQ,GAAR,EAAaC,GAAb,CAAiB;AAAA,+CAAKJ,QAAQK,CAAR,CAAL;AAAA,qCAAjB,EAAkCC,IAAlC,CAAuC,EAAvC,CAAL;AAAA,iC;;AAEfC,2C,GAAcL,aAAad,KAAKoB,QAAL,CAAcf,IAAd,CAAb,C;AACdgB,2C,GAAcd,QAAQY,WAAR,C;AAEdG,mC,GAAM;AACRC,4CAAWJ,WAAX,WADQ;AAERK,+CAAcL,WAAd,cAFQ;AAGRM,6CAAYJ,WAAZ,YAHQ;AAIRhB,0CAAMgB;AAJE,iC;;AAONK,sC;0FAAS,iBAAOC,MAAP,EAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,6DADK,GACG/B,GAAGgC,YAAH,CAAgB9B,KAAKkB,IAAL,CAAUa,SAAV,EAAwBJ,MAAxB,UAAhB,EAAuDK,QAAvD,EADH;AAELC,+DAFK,GAEK/B,SAASwB,MAAT,CAAgBG,KAAhB,EAAuBP,GAAvB,CAFL;AAAA;AAAA,+DAGL,MAAKlB,QAAL,CAAc8B,SAAd,CAAwBlC,KAAKkB,IAAL,CAAUb,IAAV,OAAmBuB,OAAnB,CAAxB,EAAuDK,OAAvD,CAHK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qC;;oDAATP,M;;;;;;uCAMAA,OAAO,WAAP,EAAoB,WAApB,C;;;;uCACAA,OAAO,eAAP,EAAwB,eAAxB,C;;;;uCACAA,OAAO,cAAP,EAAuB,UAAvB,C;;;;uCACAA,OAAO,YAAP,EAAqB,YAArB,C;;;;;;;;;;;;;;;;;;;;;AAIdS,OAAOC,OAAP,GAAiBjC,mBAAjB","file":"index.js","sourcesContent":["'use strict'\n\nconst fs = require('fs')\nconst path = require('path')\nconst process = require('process')\nconst Mustache = require('mustache')\n\nclass ReactReduxGenerator {\n    constructor(operator) {\n        this.operator = operator\n    }\n\n    async generate(name, opts = {}) {\n        const toLower = s => s.charAt(0).toLowerCase() + s.slice(1)\n        const toUpper = s => s.charAt(0).toUpperCase() + s.slice(1)\n        const createPrefix = s => s.split('-').map(v => toUpper(v)).join('')\n\n        const upperPrefix = createPrefix(path.basename(name))\n        const lowerPrefix = toLower(upperPrefix)\n\n        const obj = {\n            action: `${upperPrefix}Action`,\n            component: `${upperPrefix}Component`,\n            reducer: `${lowerPrefix}Reducer`,\n            name: lowerPrefix\n        }\n\n        const render = async (inFile, outFile) => {\n            const templ = fs.readFileSync(path.join(__dirname, `${inFile}.mst`)).toString()\n            const content = Mustache.render(templ, obj)\n            await this.operator.writeFile(path.join(name, `${outFile}`), content)\n        }\n\n        await render('action.js', 'action.js')\n        await render('component.jsx', 'component.jsx')\n        await render('container.js', 'index.js')\n        await render('reducer.js', 'reducer.js')\n    }\n}\n\nmodule.exports = ReactReduxGenerator\n"]}