{"version":3,"sources":["../../../src/plugins/sass-loader/installer.js"],"names":["utils","require","SassloaderInstaller","constructor","operator","getInstaller","checkExistsNpm","install","jsInstaller","addDevPackage","webpackInstaller","addLoader","loader","module","exports"],"mappings":"AAAA;;;;AAEA,MAAM,EAACA,KAAD,KAAUC,QAAQ,kBAAR,CAAhB;;AAEA,MAAMC,mBAAN,CAA0B;AACtBC,gBAAYC,QAAZ,EAAsB;AAClB,aAAKA,QAAL,GAAgBA,QAAhB;AACH;;AAED,WAAOC,YAAP,CAAoBD,QAApB,EAA8B;AAC1B,YAAIJ,MAAMM,cAAN,CAAqB,aAArB,CAAJ,EAAyC;AACrC;AACH;AACD,eAAO,IAAI,IAAJ,CAASF,QAAT,CAAP;AACH;;AAEKG,WAAN,GAAgB;AAAA;;AAAA;AACZ,kBAAM,MAAKH,QAAL,CAAcC,YAAd,CAA2B,KAA3B,CAAN;;AAEA,kBAAMG,cAAc,MAAM,MAAKJ,QAAL,CAAcC,YAAd,CAA2B,IAA3B,CAA1B;AACAG,wBAAYC,aAAZ,CAA0B,aAA1B;AACAD,wBAAYC,aAAZ,CAA0B,WAA1B;;AAEA,kBAAMC,mBAAmB,MAAM,MAAKN,QAAL,CAAcC,YAAd,CAA2B,SAA3B,CAA/B;AACAK,6BAAiBC,SAAjB,CAA2B,UAA3B,EAAuC,CACnC,EAACC,QAAQ,cAAT,EADmC,EAEnC,EAACA,QAAQ,YAAT,EAFmC,EAGnC,EAACA,QAAQ,aAAT,EAHmC,CAAvC;AARY;AAaf;AAzBqB;;AA4B1BC,OAAOC,OAAP,GAAiBZ,mBAAjB","file":"installer.js","sourcesContent":["'use strict'\n\nconst {utils} = require('../../waterslide')\n\nclass SassloaderInstaller {\n    constructor(operator) {\n        this.operator = operator\n    }\n\n    static getInstaller(operator) {\n        if (utils.checkExistsNpm('sass-loader')) {\n            return\n        }\n        return new this(operator)\n    }\n\n    async install() {\n        await this.operator.getInstaller('css')\n\n        const jsInstaller = await this.operator.getInstaller('js')\n        jsInstaller.addDevPackage('sass-loader')\n        jsInstaller.addDevPackage('node-sass')\n\n        const webpackInstaller = await this.operator.getInstaller('webpack')\n        webpackInstaller.addLoader('\\\\.scss$', [\n            {loader: 'style-loader'},\n            {loader: 'css-loader'},\n            {loader: 'sass-loader'},\n        ])\n    }\n}\n\nmodule.exports = SassloaderInstaller\n"]}