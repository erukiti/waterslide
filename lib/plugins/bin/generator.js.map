{"version":3,"sources":["../../../src/plugins/bin/generator.js"],"names":["fs","require","path","BinGenerator","constructor","operator","generate","name","opts","binText","readFileSync","join","__dirname","writeFile","mode","jsInstaller","getInstaller","addBin","module","exports"],"mappings":"AAAA;;;;AAEA,MAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,MAAMC,OAAOD,QAAQ,MAAR,CAAb;;AAEA,MAAME,YAAN,CAAmB;AACfC,gBAAYC,QAAZ,EAAsB;AAClB,aAAKA,QAAL,GAAgBA,QAAhB;AACH;;AAEKC,YAAN,CAAeC,IAAf,EAAqBC,OAAO,EAA5B,EAAgC;AAAA;;AAAA;AAC5B,kBAAMC,UAAUT,GAAGU,YAAH,CAAgBR,KAAKS,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAhB,CAAhB;AACA,kBAAKP,QAAL,CAAcQ,SAAd,CAAyB,OAAMN,IAAK,EAApC,EAAuCE,OAAvC,EAAgD,EAACK,MAAM,KAAP,EAAhD;;AAEA,kBAAMC,cAAc,MAAM,MAAKV,QAAL,CAAcW,YAAd,CAA2B,IAA3B,CAA1B;AACAD,wBAAYE,MAAZ,CAAoB,OAAMV,IAAK,EAA/B;AAL4B;AAM/B;AAXc;;AAcnBW,OAAOC,OAAP,GAAiBhB,YAAjB","file":"generator.js","sourcesContent":["'use strict'\n\nconst fs = require('fs')\nconst path = require('path')\n\nclass BinGenerator {\n    constructor(operator) {\n        this.operator = operator\n    }\n\n    async generate(name, opts = {}) {\n        const binText = fs.readFileSync(path.join(__dirname, 'bin.js'))\n        this.operator.writeFile(`bin/${name}`, binText, {mode: 0o755})\n\n        const jsInstaller = await this.operator.getInstaller('js')\n        jsInstaller.addBin(`bin/${name}`)\n    }\n}\n\nmodule.exports = BinGenerator\n"]}