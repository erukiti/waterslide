{"version":3,"sources":["../../../src/plugins/riot-loader/generator.js"],"names":["path","require","fs","Mustache","RiotLoaderGenerator","operator","name","opts","obj","basename","render","inFile","outFile","templ","readFileSync","join","__dirname","toString","content","writeFile","module","exports"],"mappings":"AAAA;;;;;;;;AAEA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,KAAKD,QAAQ,IAAR,CAAX;AACA,IAAME,WAAWF,QAAQ,UAAR,CAAjB;;IAEMG,mB;AACF,iCAAYC,QAAZ,EAAsB;AAAA;;AAClB,aAAKA,QAAL,GAAgBA,QAAhB;AACH;;;;;mFAEcC,I;;;oBAAMC,I,uEAAO,E;;;;;;AAClBC,mC,GAAM;AACRF,0CAAMN,KAAKS,QAAL,CAAcH,IAAd,EAAoB,MAApB;AADE,iC;;AAINI,sC;0FAAS,iBAAOC,MAAP,EAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,6DADK,GACGX,GAAGY,YAAH,CAAgBd,KAAKe,IAAL,CAAUC,SAAV,EAAwBL,MAAxB,UAAhB,EAAuDM,QAAvD,EADH;AAELC,+DAFK,GAEKf,SAASO,MAAT,CAAgBG,KAAhB,EAAuBL,GAAvB,CAFL;AAAA;AAAA,+DAGL,MAAKH,QAAL,CAAcc,SAAd,CAAwBP,OAAxB,EAAiCM,OAAjC,CAHK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qC;;oDAATR,M;;;;;;uCAMAA,OAAO,YAAP,EAAqBJ,IAArB,C;;;;;;;;;;;;;;;;;;;;;AAIdc,OAAOC,OAAP,GAAiBjB,mBAAjB","file":"generator.js","sourcesContent":["'use strict'\n\nconst path = require('path')\nconst fs = require('fs')\nconst Mustache = require('mustache')\n\nclass RiotLoaderGenerator {\n    constructor(operator) {\n        this.operator = operator\n    }\n\n    async generate(name, opts = {}) {\n        const obj = {\n            name: path.basename(name, '.tag')\n        }\n\n        const render = async (inFile, outFile) => {\n            const templ = fs.readFileSync(path.join(__dirname, `${inFile}.mst`)).toString()\n            const content = Mustache.render(templ, obj)\n            await this.operator.writeFile(outFile, content)\n        }\n\n        await render('sample.tag', name)\n    }\n}\n\nmodule.exports = RiotLoaderGenerator\n"]}