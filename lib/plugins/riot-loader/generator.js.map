{"version":3,"sources":["../../../src/plugins/riot-loader/generator.js"],"names":["path","require","fs","Mustache","RiotLoaderGenerator","constructor","operator","generate","name","opts","obj","basename","render","inFile","outFile","templ","readFileSync","join","__dirname","toString","content","writeFile","module","exports"],"mappings":"AAAA;;;;AAEA,MAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,MAAMC,KAAKD,QAAQ,IAAR,CAAX;AACA,MAAME,WAAWF,QAAQ,UAAR,CAAjB;;AAEA,MAAMG,mBAAN,CAA0B;AACtBC,gBAAYC,QAAZ,EAAsB;AAClB,aAAKA,QAAL,GAAgBA,QAAhB;AACH;;AAEKC,YAAN,CAAeC,IAAf,EAAqBC,OAAO,EAA5B,EAAgC;AAAA;;AAAA;AAC5B,kBAAMC,MAAM;AACRF,sBAAMR,KAAKW,QAAL,CAAcH,IAAd,EAAoB,MAApB;AADE,aAAZ;;AAIA,kBAAMI;AAAA,6CAAS,WAAOC,MAAP,EAAeC,OAAf,EAA2B;AACtC,0BAAMC,QAAQb,GAAGc,YAAH,CAAgBhB,KAAKiB,IAAL,CAAUC,SAAV,EAAsB,GAAEL,MAAO,MAA/B,CAAhB,EAAuDM,QAAvD,EAAd;AACA,0BAAMC,UAAUjB,SAASS,MAAT,CAAgBG,KAAhB,EAAuBL,GAAvB,CAAhB;AACA,0BAAM,MAAKJ,QAAL,CAAce,SAAd,CAAwBP,OAAxB,EAAiCM,OAAjC,CAAN;AACH,iBAJK;;AAAA;AAAA;AAAA;AAAA,gBAAN;;AAMA,kBAAMR,OAAO,YAAP,EAAqBJ,IAArB,CAAN;AAX4B;AAY/B;AAjBqB;;AAoB1Bc,OAAOC,OAAP,GAAiBnB,mBAAjB","file":"generator.js","sourcesContent":["'use strict'\n\nconst path = require('path')\nconst fs = require('fs')\nconst Mustache = require('mustache')\n\nclass RiotLoaderGenerator {\n    constructor(operator) {\n        this.operator = operator\n    }\n\n    async generate(name, opts = {}) {\n        const obj = {\n            name: path.basename(name, '.tag')\n        }\n\n        const render = async (inFile, outFile) => {\n            const templ = fs.readFileSync(path.join(__dirname, `${inFile}.mst`)).toString()\n            const content = Mustache.render(templ, obj)\n            await this.operator.writeFile(outFile, content)\n        }\n\n        await render('sample.tag', name)\n    }\n}\n\nmodule.exports = RiotLoaderGenerator\n"]}